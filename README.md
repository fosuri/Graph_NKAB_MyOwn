# GraphQL_Landmarks

## –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ –º–∏—Ä–æ–≤—ã—Ö –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö

### üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Node.js**
- **GraphQL**

### üë®‚Äçüíª –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- –ê—Ä—Å–µ–Ω–∏–π –ë–æ–≥–∞—Ç—ã—Ä—ë–≤
- –ù–∏–∫–∏—Ç–∞ –ö–∞—Ä–ø–æ–≤

---

## üî• –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (User)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### üèõ –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Landmark)
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏ –¥–µ—Ç–∞–ª–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–µ, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É

### üñº –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (Photo)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)

### ‚≠ê –û—Ü–µ–Ω–∫–∏ (Rating)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT
- –î–æ—Å—Ç—É–ø –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìå –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É

1. **–°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**  
   ```sh
   git clone https://github.com/ArseniBogatorjov/GraphQL_Landmarks.git
   ```

2. **–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º:**  
   ```sh
   cd Graph_NKAB
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**  
   ```sh
   npm install graphql@15.3.0 express-graphql@latest @graphql-tools/merge
   ```

   ```sh
   npm i
   ```

4. **–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ XAMPP.**  

5. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ.**  

6. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:**  
   ```sh
   node .
   ```

7. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç:**  
   [http://localhost:3000/graphql](http://localhost:3000/graphql)

---

## üì° –ó–∞–ø—Ä–æ—Å—ã

### üü© –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ üü©


### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  landmarks {
    id
    name
    country
    rating
  }
}
```
### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–æ —Å–µ–±–µ) (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
query {
  profile {
    id
    username
    email
    password
  }
}
```
### üîπ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
mutation {
  addUser(username: "john_doe", email: "john@example.com", password: "password123") {
    id
    username
    email
    password
  }
}
```
### üîπ –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
mutation {
  loginUser(email: "john@example.com", password: "password123")
}
```
### üîπ –¢–æ–∫–µ–Ω (–≤ headers)
```graphql
{
  "x-access-token": ""
}
```

### üü© –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ üü©

### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  Landmarks {
    id
    name
    description
    location
    country
    imageURL
  }
}
```
### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ id (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  landmark(id: 1) {
    id
    name
    description
    location
    country
    imageURL
    userId
  }
}
```

### üîπ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```graphql
mutation {
  addLandmark(
    name: "–ö–æ–ª–∏–∑–µ–π",
    description: "–î—Ä–µ–≤–Ω–∏–π –∞–º—Ñ–∏—Ç–µ–∞—Ç—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ –†–∏–º–∞, –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–∞–º—è—Ç–Ω–∏–∫–æ–≤ –†–∏–º—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏.",
    location: "–†–∏–º",
    country: "–ò—Ç–∞–ª–∏—è",
    imageURL: "https://example.com/coliseum.jpg",
  ) {
    id
    name
    description
    location
    country
    imageURL
  }
}
```
### üîπ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  updateLandmark(
    id: 2,
    name: "UPTATED –ö–æ–ª–∏–∑–µ–π",
    description: " UPTATED –°–∞–º—ã–π –±–æ–ª—å—à–æ–π –∞–º—Ñ–∏—Ç–µ–∞—Ç—Ä –≤ –†–∏–º–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–π—Å—è –¥–ª—è –≥–ª–∞–¥–∏–∞—Ç–æ—Ä—Å–∫–∏—Ö –±–æ—ë–≤ –∏ –¥—Ä—É–≥–∏—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π.",
    location: "UPTATED –†–∏–º",
    country: "UPTATED –ò—Ç–∞–ª–∏—è",
    imageURL: "UPTATED https://example.com/coliseum_updated.jpg",
  ) {
    id
    name
    description
    location
    country
    imageURL
  }
}
```
### üîπ –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  deleteLandmark(id: 2)
}
```

### üü© –§–æ—Ç–æ üü©

### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø–æ id –¥–æ—Å—Ç–æc—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  photoByLandmark(landmarkId: 1) {
    id
    url
    description
    landmarkId
    userId
  }
}
```
### üîπ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ (–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```graphql
mutation {
  addPhoto(
    url: "https://example.com/photo.jpg"
    description: "A beautiful landmark"
    landmarkId: 1
  ) {
    id
    url
    description
    landmarkId
    userId
  }
}
```
### üîπ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  updatePhoto(
    id: 2
    url: "https://example.com/updated_photo.jpgggggg"
    description: "An updated description"
    landmarkId: 1
  ) {
    id
    url
    description
    landmarkId
    userId
  }
}
```
### üîπ –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  deletePhoto(id: 1)
}
```

### üü© –†–µ–π—Ç–∏–Ω–≥–∏ üü©

```graphql
query {
  avgRating(landmarkId: 1)
}
```
### üîπ –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ (–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```graphql
mutation {
  addRating(rating: 5, landmarkId: 1) {
    id
    rating
    userId
    landmarkId
  }
}
```
### üîπ –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  updateRating(id: 10, rating: 4) {
    id
    rating
    userId
    landmarkId
  }
}
```
### üîπ –£–¥–∞–ª–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ (–í–ª–∞–¥–µ–ª–µ—Ü)
```graphql
mutation {
  deleteRating(id: 2)
}

```

### üü© –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ üü©

### üîπ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –ø–æ —Å—Ç—Ä–∞–Ω–µ (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  landmarkByCountry(country: "France") {
    id
    name
    description
    location
    country
    imageURL
    userId
  }
}
```

### üîπ –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (–û—Ç–∫—Ä—ã—Ç—ã–π)
```graphql
query {
  landmarksAboveRating(minRating: 4)
}
```